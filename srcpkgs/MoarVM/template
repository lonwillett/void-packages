# Template build file for 'MoarVM'.
pkgname=MoarVM
version=2018.04
revision=1
build_style=configure
configure_script="perl Configure.pl"
configure_args="--prefix=/usr --has-libuv --has-libatomic_ops --has-libffi --has-libtommath"
hostmakedepends="perl"
makedepends="libatomic_ops-devel libffi-devel libtommath-devel libuv-devel"
short_desc="MoarVM is a virtual machine for Rakudo Perl 6"
maintainer="Ruslan <axetwe@gmail.com>"
license="Artistic-2.0"
homepage="http://moarvm.com"
distfiles="http://moarvm.org/releases/MoarVM-${version}.tar.gz"
checksum=575fe8545943c39d083c6f433171bf8411e44204944b49dcf4fe0f31f8645dd5
nocross=yes
shlib_provides="libmoar.so"

do_clean() {
	rm -rf ${DESTDIR}/usr/include/libuv ${DESTDIR}/usr/include/libtommath
}
