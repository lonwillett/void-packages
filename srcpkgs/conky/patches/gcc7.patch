See https://git.archlinux.org/svntogit/packages.git/tree/trunk/gcc7.patch?h=packages/conky
diff -Naur old/src/luamm.hh new/src/luamm.hh
--- src/luamm.hh	2016-12-04 05:13:57.000000000 -1000
+++ src/luamm.hh	2017-11-21 09:11:20.993164069 -1000
@@ -28,6 +28,7 @@
 #include <exception>
 #include <stdexcept>
 #include <string>
+#include <functional>
 
 #include <lua.hpp>
 
