--- src/dhcpcd.c~	2020-09-06 16:27:28.000000000 +0200
+++ src/dhcpcd.c	2020-09-13 13:48:23.645737443 +0200
@@ -1251,8 +1251,8 @@
 {
 	char buf[sizeof(ifp->hwaddr) * 3];
 
-	if (hwaddr == NULL || !if_valid_hwaddr(hwaddr, hwlen))
-		hwlen = 0;
+	if (hwlen == 0 || hwaddr == NULL || !if_valid_hwaddr(hwaddr, hwlen))
+		return;
 
 	if (hwlen > sizeof(ifp->hwaddr)) {
 		errno = ENOBUFS;
